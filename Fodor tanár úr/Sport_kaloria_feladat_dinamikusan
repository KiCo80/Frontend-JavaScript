HTML FILE:

<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sport, kalória</title>
    <style>
        h1{
            text-align: center;
        }

        table {
          font-family: Arial, Helvetica, sans-serif;
          border-collapse: collapse;
          width: 500px;
          margin: 0 auto;
        }
        
        td, th { 
          border: 1px solid #ddd;
          padding: 8px;
        }

        td:nth-child(2){
            text-align: center;
        }

        td:nth-child(3){
            text-align: center;
        }
        
        td:nth-child(4){
            text-align: center;
        }

        tr:nth-child(even){
            background-color: #f2f2f2;
        }
        
        tr:hover {
            background-color: #ddd;
        }
        
        th {
          padding-top: 12px;
          padding-bottom: 12px;
          text-align: center;
          background-color: #04AA6D;
          color: white;
        }

        #gomb{
            text-align: center;
            margin-top:15px;
        }
        
        input{ /* a különböző inputokat (pl.: number, text) külön osztállyal el lehet látni, így a rendezést osztállyal lehet megoldani. */
            text-align:center;
        }
        #szumPerc, #szumKcal, #arany{
            text-align: center;
        }
        
    </style>
</head>
<body>
    <h1>Sport és kalória</h1>
    <table>
        <thead>
            <tr>
                <th>Sport, mozgás</th>
                <th>kcal/óra</th>
                <th>perc</th>
                <th>kcal</th>
            </tr>
        </thead>
        <tbody>
        
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2">Összesen:</td>
                <td><input id="szumPerc" type="text" size="5" disabled></td>
                <td><input id="szumKcal" type="text" size="5" disabled></td>
            </tr> 
            <tr>
                <td colspan="3">Napi energiaszükséglet (2000kcal) arányában:</td>
                <td><input id="arany" type="text" size="5" disabled></td>
            </tr> 
        </tfoot>
      </table>
    <div id="gomb">
      <button type="button">Adatok törlése</button>
    </div>
<script src="sportkaloria_dinamikus.js"></script>
</body>
</html>



JS FILE:

let sportok=[   // tömböt hozunk létre
    {           // objektumot hozunk létre    
        sport:"Futás",  // kulcsokat
        kcal:"680"      // és értékeket adunk meg. 
    },                  // vesszővel választjuk el egymástól az objektumokat
    {sport:"Focizás", kcal:"550"},
    {sport:"Bringázás", kcal:"480"},
    {sport:"Hegymászás", kcal:"420"},
    {sport:"Lovaglás", kcal:"370"},
    {sport:"Túrázás", kcal:"360"},
    {sport:"Kajakozás", kcal:"340"},
    {sport:"Súlyzós edzés", kcal:"320"},
    {sport:"Pingpongozás", kcal:"270"},
    {sport:"Kutyasétáltatás", kcal:"200"}
]

// táblázat létrehozása ("szülő - gyerek") - dinamikusan:

let tableBody=document.querySelector("tbody"); // ha több táblázat van, akkor id-kkel különböztetjük meg őket egymástól.

for (let i = 0; i<sportok.length; i++){
    let tr=document.createElement("tr"); // létrehozzuk a tr-t
//1. oszlop létrehozása:
    let sport=Object.values(sportok[i])[0];
    let td=document.createElement("td"); // létrehozzuk a td-t
    td.innerHTML=sport;
    tr.appendChild(td); // a td itt már változó
//2. oszlop létrehozása:
    let kcal=Object.values(sportok[i])[1];
    let td2=document.createElement("td");
    td2.innerHTML=kcal;
    td2.className="kcalPerOra";
    tr.appendChild(td2);
//3.oszlop létrehozása:     
    let td3=document.createElement("td");
    let input=document.createElement("input"); // a perc input mezőinek létrehozása
    input.type="number"; // megadjuk az input szükséges paramétereit
    input.min="0";
    input.max="500";
    input.step="5";
    td3.appendChild(input); // az input itt változó
    tr.appendChild(td3);
//4. oszlop létrehozása:
    td4=document.createElement("td");
    let input2=document.createElement("input"); // a kcal input mezőinek létrehozása
    input2.type="text"; // megadjuk az input szükséges paramétereit
    input2.className="kcal"; // megadjuk az osztálynevet az input2-nek
    input2.size="5";
    input2.disabled=true; // disabled-re állítjuk
    td4.appendChild(input2);
    tr.appendChild(td4);
   
    tableBody.appendChild(tr); // a szülőhöz (tableBody) hozzáadjuk a gyereket (tr)
}

function szamol(x){
    let kcalPerOraX=document.querySelectorAll(".kcalPerOra")[x];
    let percX=document.querySelectorAll("input[type='number']")[x];
    let kcalX=document.querySelectorAll(".kcal")[x];
    kcalX.value=Math.round(Number(kcalPerOraX.innerHTML)*Number(percX.value)/60); // a Number helyett lehet ParseInt is
}

let perc=document.querySelectorAll("input[type='number']");

for (let i=0; i < perc.length; i++){
    perc[i].addEventListener('change', function(){
    szamol(i)
    osszesPerc(i);
    osszesKcal(i);
    arany();
    })
}

// törlés gomb elkészítése:

function torles() {
    let inputok=document.querySelectorAll("input");
    for (let i = 0; i < inputok.length; i++) {
        inputok[i].value="";
    }
}

let torlesGomb=document.querySelector("button");
torlesGomb.onclick=torles;


//Összes perc:
let sumPerc = document.getElementById("szumPerc");

function osszesPerc() {
    let osszesen = 0;
    for (let i = 0; i < perc.length; i++) {
        osszesen += Number(perc[i].value);        
    }
    sumPerc.value = osszesen;
}

let kcal=document.querySelectorAll(".kcal");

//Összesen kcal:
let sumKcal = document.getElementById("szumKcal");

function osszesKcal(){
    let osszesenKcal = 0;
    for (let i = 0; i < kcal.length; i++){
        osszesenKcal+=Number(kcal[i].value);    
    }
    sumKcal.value=osszesenKcal;
}

function arany(){
    let eredmeny = document.getElementById("arany");
    eredmeny.value=Math.round(Number((100*szumKcal.value)/2000))+"%";
    
}


